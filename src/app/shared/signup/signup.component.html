<h2 class="text-yellow-500 text-center my-3">CREATE YOUR ACCOUNT</h2>

<form class="px-3" [formGroup]="signUpForm" (submit)="onSubmit()">
   
    <!-- Fisrt Name -->
    <span class="p-float-label mt-3">
        <input id="firstname w-full"
            name="firstName"
            type="text" 
            pInputText 
            class="w-full"
            formControlName="firstName"
            [class.ng-dirty]="inputValidator('firstName')"> 
        <label for="firstname">Fisrt Name</label>
    </span>
    <small class="errorText" *ngIf="inputValidator('firstName')">Please enter your first name.</small>

    <!-- Last Name  -->
    <span class="p-float-label mt-3">
        <input id="lastname" 
            type="text" 
            pInputText 
            class="w-full"
            formControlName="lastName"
            [class.ng-dirty]="inputValidator('lastName')"> 
        <label for="lastName">Last Name</label>
    </span>
    <small class="errorText" *ngIf="inputValidator('lastName')">Please enter your last name.</small>


    <!-- Email Address -->
    <span class="p-float-label mt-3">
        <input id="email" 
            type="text" 
            pInputText 
            class="w-full"
            formControlName="email"
            [class.ng-dirty]="inputValidator('email')"> 
        <label for="email">Email Address</label>
    </span>
    <small class="errorText" *ngIf="inputValidator('email')"> {{ errorTextEmail() }}</small>


    <!-- Username -->
    <span class="p-float-label mt-3">
        <input id="username" 
            type="text" 
            pInputText 
            class="w-full"
            formControlName="userName"
            [class.ng-dirty]="inputValidator('userName')"> 
        <label for="username">Username</label>
    </span>
    <small class="errorText" *ngIf="inputValidator('userName')">Please enter your username</small>

    <!-- Password -->
    <span class="p-float-label mt-3">
        <input id="password" 
            type="password" 
            pInputText 
            class="w-full"
            formControlName="password"
            [class.ng-dirty]="inputValidator('password')"
            (focus)="showPasswordInfo = true"
            (blur)="showPasswordInfo = false"> 
        <label for="password">Password</label>
    </span>
    <small class="errorText" *ngIf="inputValidator('password')"> {{ errorTextPassword() }}</small>
    <div class="fadeinup mt-2" *ngIf="showPasswordInfo" style="width: 200px;">
        <p-progressBar [value]="progressPasswor()" styleClass="my-1"></p-progressBar>
        <p [class]="passwordLengthValidator() ? 'text-yellow-500' : 'text-green-500'">
            <i class="mx-2 fa-solid"
                [class]="passwordLengthValidator() ? 'fa-circle-exclamation' : 'fa-check'"></i>
            <small>Enter at least 6 characters</small></p>
        <p [class]="passwordPatternValidator() ? 'text-yellow-500' : 'text-green-500'">
            <i class="mx-2 fa-solid"
            [class]="passwordPatternValidator() ? 'fa-circle-exclamation' : 'fa-check'">
            </i><small>Use letters and numbers</small>
        </p>
    </div>
   
    <!-- <dl>
        <dt>Form Valid</dt>
        <dd><pre> {{ signUpForm.valid }} </pre></dd>
    
        <dt>Form Values</dt>
        <dd><pre> {{ signUpForm.value | json }}</pre></dd>
    
        <dt>email</dt>
        <dd><pre> {{signUpForm.get('email')?.valid}} </pre></dd>
        <dd><pre>{{ signUpForm.get('email')?.errors | json }}</pre></dd>
    
        <dt>password</dt>
        <dd><pre> {{signUpForm.get('password')?.valid}} </pre></dd>
        <dd><pre> {{ signUpForm.get('password')?.errors | json }} </pre></dd>
    </dl> -->

    <!-- Notifications -->
    <div class="my-3 grid">
        <span>
            <p-checkbox name="notifications" 
            value="true"
            name="notifications"
            formControlName="notifications" 
            class="col-1 mb-auto"
            styleClass=""></p-checkbox>
        </span>
        <small class="col">
            Yes! I would like to receive by email special offers and updates about Lucasfilm Ltd. and other products and services from  
            <a class="text-yellow-500" href="!#">The Walt Disney Family of Companies.</a> 
        </small>
    </div>

    <!-- Conditions -->
    <p class="my-3">
        <small>
            By creating an account, you agree to our 
            <a class="text-yellow-500" href="!#">Terms of Use</a> 
            and acknowledge that you have read our 
            <a class="text-yellow-500" href="!#">Privacy Policy</a>, 
            <a class="text-yellow-500" href="!#">Cookies Policy</a> and 
            <a class="text-yellow-500" href="!#">EU Privacy Rights</a>. 
            <a class="text-yellow-500" href="!#">More...</a>
            <br>
        </small>
    </p>

    <p class="my-3">
        <small class="my-3">
            My home country/region: Spain. 
            <a class="text-yellow-500" href="!#">Change</a>.
        </small>
    </p>

    <button pButton type="submit" label="Create Account" class="w-full text-center mt-3"></button>

</form>

<p class="mt-3 mb-5 text-center"> 
    <small>
        Already have an account? 
        <a class="text-yellow-500 cursor-pointer" (click)="openLogIn()"> Sign In</a>
    </small>
</p>
